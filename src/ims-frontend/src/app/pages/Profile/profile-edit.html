<div class="card shadow-lg profile-card p-4">
  <h4 class="mb-4 text-gradient text-center">✨ Edit Your Profile</h4>

  <div *ngIf="loading" class="py-4 text-center">
    <div class="spinner-border text-primary" role="status"></div>
    <p class="mt-2">Loading profile...</p>
  </div>

  <form [formGroup]="form" (ngSubmit)="submit()" *ngIf="!loading">
    <div class="row align-items-center">
      <!-- Left: Form fields -->
      <div class="col-md-8">
        <div class="mb-3">
          <label class="form-label fw-bold">Full Name</label>
          <input
            class="form-control form-control-lg"
            formControlName="fullName"
            placeholder="Enter your full name"
          />
          <div
            *ngIf="form.get('fullName')?.touched && form.get('fullName')?.invalid"
            class="text-danger small mt-1"
          >
            Full name is required
          </div>
        </div>

        <button class="btn btn-gradient px-4" type="submit" [disabled]="submitting">
          <i class="bi bi-save"></i>
          {{ submitting ? 'Saving...' : 'Save Changes' }}
        </button>
      </div>

      <!-- Right: Profile photo -->
      <div class="col-md-4 text-center">
        <label class="form-label fw-bold">Profile Photo</label>
        <div class="profile-photo-wrapper mb-3 mx-auto">
          <img *ngIf="imagePreview; else placeholder" [src]="imagePreview" class="profile-photo" />
          <ng-template #placeholder>
            <div class="profile-photo placeholder">
              <i class="bi bi-person-fill"></i>
            </div>
          </ng-template>
        </div>

        <input
          type="file"
          accept="image/*"
          (change)="onFileSelected($event)"
          class="form-control form-control-sm"
        />
        <div class="small text-muted mt-2">PNG / JPG / WEBP • max 2MB</div>
      </div>
    </div>
  </form>
</div>
