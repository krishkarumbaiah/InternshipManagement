<div class="container mt-4 dashboard-wrapper">
  <h2 class="text-center">Welcome, {{ username }} ðŸ‘‹</h2>
  <p class="text-center">Your role: <strong>{{ roles.join(', ') }}</strong></p>

  <!-- ================= Admin Dashboard ================= -->
  <div *ngIf="isAdmin()" class="mt-4">
    <h3 class="text-primary text-center mb-4">ðŸ“Š Admin Dashboard</h3>

    <div *ngIf="overview; else adminLoading" class="row g-4">
      <!-- Users Card -->
      <div class="col-md-3">
        <div class="card stat-card bg-primary text-white shadow">
          <div class="card-body text-center">
            <h5>Users</h5>
            <p class="fs-3">{{ overview.users.total }}</p>
          </div>
        </div>
      </div>

      <!-- Batches Card -->
      <div class="col-md-3">
        <div class="card stat-card bg-success text-white shadow">
          <div class="card-body text-center">
            <h5>Batches</h5>
            <p class="fs-3">{{ overview.batches }}</p>
          </div>
        </div>
      </div>

      <!-- QnA Card -->
      <div class="col-md-3">
        <div class="card stat-card bg-warning text-dark shadow">
          <div class="card-body text-center">
            <h5>Questions</h5>
            <p class="fs-3">{{ overview.qnA.total }}</p>
            <small>Unanswered: {{ overview.qnA.unanswered }}</small>
          </div>
        </div>
      </div>

      <!-- Attendance Card -->
      <div class="col-md-3">
        <div class="card stat-card bg-danger text-white shadow">
          <div class="card-body text-center">
            <h5>Attendance</h5>
            <p class="fs-3">{{ overview.attendance.presentRate | number:'1.0-2' }}%</p>
            <small>Records: {{ overview.attendance.totalRecords }}</small>
          </div>
        </div>
      </div>
    </div>

    <!-- Charts Row -->
    <div class="row mt-5">
      <div class="col-md-6">
        <div class="card shadow p-3">
          <h6 class="text-center">ðŸ“ˆ Attendance Overview</h6>
          <canvas baseChart [data]="adminAttendanceChart" [type]="'doughnut'"></canvas>
        </div>
      </div>

      <div class="col-md-6">
        <div class="card shadow p-3">
          <h6 class="text-center">ðŸ‘¥ Users Overview</h6>
          <canvas baseChart [data]="adminUsersChart" [type]="'bar'"></canvas>
        </div>
      </div>
    </div>

    <ng-template #adminLoading>
      <p class="text-muted text-center">Loading admin dashboard data...</p>
    </ng-template>
  </div>

  <!-- ================= Intern Dashboard ================= -->
  <div *ngIf="isIntern()" class="mt-4">
    <h3 class="text-success text-center mb-4">ðŸŽ“ Intern Dashboard</h3>

    <div *ngIf="myOverview; else internLoading" class="row g-4">
      <!-- Attendance -->
      <div class="col-md-6">
        <div class="card shadow p-3">
          <h6 class="text-center">Attendance</h6>
          <canvas baseChart [data]="internAttendanceChart" [type]="'doughnut'"></canvas>
        </div>
      </div>

      <!-- QnA -->
      <div class="col-md-6">
        <div class="card shadow p-3">
          <h6 class="text-center">QnA</h6>
          <canvas baseChart [data]="internQnaChart" [type]="'bar'"></canvas>
        </div>
      </div>
    </div>

    <ng-template #internLoading>
      <p class="text-muted text-center">Loading intern dashboard data...</p>
    </ng-template>
  </div>

 