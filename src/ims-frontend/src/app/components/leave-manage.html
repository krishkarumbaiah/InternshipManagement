<div class="leave-container card shadow-lg p-4">
  <h3 class="mb-4 text-primary fw-bold d-flex align-items-center">
    📋 Leave Requests
    <span class="badge bg-light text-dark ms-3 shadow-sm">
      Total: {{ leaves.length }}
    </span>
  </h3>

  <div class="table-responsive">
    <table class="table table-hover align-middle table-striped custom-table">
      <thead>
        <tr>
          <th>User</th>
          <th>Start</th>
          <th>End</th>
          <th>Reason</th>
          <th>Status</th>
          <th class="text-center">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let leave of leaves">
          <td class="fw-semibold">
            <i class="bi bi-person-circle text-secondary me-2"></i>
            {{ leave.userName }}
          </td>
          <td><i class="bi bi-calendar-date text-primary me-2"></i>{{ leave.startDate | date: 'mediumDate' }}</td>
          <td><i class="bi bi-calendar-check text-success me-2"></i>{{ leave.endDate | date: 'mediumDate' }}</td>
          <td><i class="bi bi-chat-dots text-info me-2"></i>{{ leave.reason }}</td>
          <td>
            <span
              class="badge status-badge px-3 py-2"
              [ngClass]="{
                'pending': leave.status === 'Pending',
                'approved': leave.status === 'Approved',
                'rejected': leave.status === 'Rejected'
              }"
            >
              {{ leave.status }}
            </span>
          </td>
          <td class="text-center">
            <div class="btn-group btn-group-sm" role="group">
              <button
                class="btn btn-outline-success"
                (click)="updateStatus(leave.id, 'Approved')"
                [disabled]="leave.status === 'Approved'"
              >
                ✅ Approve
              </button>
              <button
                class="btn btn-outline-danger"
                (click)="updateStatus(leave.id, 'Rejected')"
                [disabled]="leave.status === 'Rejected'"
              >
                ❌ Reject
              </button>
              <button
                class="btn btn-outline-dark"
                (click)="deleteLeave(leave.id)"
              >
                🗑 Delete
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
